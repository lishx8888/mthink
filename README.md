# mthink

一个功能完善的思维导图工具，支持创建、编辑、保存和加载思维导图，具备强大的自动布局功能。

## 功能特性

### 核心功能
- 创建和编辑思维导图节点
- 支持节点颜色自定义
- 支持添加、删除和编辑节点内容
- 支持保存和加载思维导图（SVG和JSON格式）
- 支持导入和导出SVG格式的思维导图
- 响应式设计，适配不同屏幕尺寸

### 优化功能
- **节点编号系统**：为每个节点自动生成唯一编号，支持正向（1, 2, 3...）和反向（-1, -2, -3...）编号
- **智能自动布局**：基于节点编号实现稳定的自动布局，一次点击即可达到预期效果
- **坐标系统优化**：将(0,0)点从页面左上角移到页面中央，更符合使用习惯
- **节点内容与编号分离**：节点编号和文字内容独立存储，避免相互干扰
- **改进的保存/加载**：确保节点编号和文字内容在保存和导入过程中不丢失

## 使用方法

### 基本操作
1. 打开 `index.html` 文件
2. 点击画布创建中心节点
3. 点击节点上的"添加子节点"按钮添加正向思维节点（右侧）
4. 点击节点上的"添加父节点"按钮添加反向思维节点（左侧）
5. 点击节点可编辑内容
6. 使用侧边栏的颜色选择器更改节点颜色
7. 使用保存按钮保存思维导图（默认SVG格式）
8. 使用加载按钮加载思维导图

### 自动布局功能
1. 点击"自动布局"按钮，系统会自动为所有节点分配位置
2. 自动布局会基于节点编号进行排序和定位
3. 系统会为没有编号的节点自动生成合理的编号
4. 一次点击即可达到稳定的布局效果

### 节点编号规则
- **中心节点**：编号为 "0"
- **正向思维节点**（右侧）：按层级编号为 1, 2, 3, 21, 22, 23, 221, 222...
- **反向思维节点**（左侧）：按层级编号为 -1, -2, -3, -21, -22, -23, -221, -222...
- 节点编号会在自动布局时自动生成和更新

## 技术栈

- HTML5
- CSS3
- JavaScript (ES6+)
- SVG

## 项目结构

```
mthink/
├── index.html    # 主页面
├── style.css     # 样式文件
├── script.js     # 主要逻辑
├── server.js     # 本地服务器
└── README.md     # 项目说明
```

## 开发说明

### 启动本地服务器

```bash
node server.js
```

然后在浏览器中访问 `http://localhost:8000`

### 功能实现

- **节点创建与编辑**: 支持点击创建节点，双击编辑内容
- **节点连接**: 自动绘制节点之间的连接线
- **SVG导入/导出**: 支持将思维导图导出为SVG格式，并可导入外部SVG思维导图
- **响应式设计**: 适配桌面和移动设备
- **自定义保存对话框**: 提供美观的自定义保存对话框

## 许可证

MIT License
