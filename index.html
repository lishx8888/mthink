<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>思维导图应用</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="images/icon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="images/icon.ico" type="image/x-icon">
</head>
<body>
    <div class="container">

        
        <!-- 自定义导出弹窗 -->
        <div id="exportDialog" class="save-dialog">
            <div class="save-dialog-content">
                <div class="save-dialog-header">
                    <h3>导出思维导图</h3>
                    <button id="closeExportDialog" class="close-button">&times;</button>
                </div>
                <div class="save-dialog-body">
                    <div class="save-option">
                        <label for="exportFormatSelect">导出格式:</label>
                        <select id="exportFormatSelect">
                            <option value="svg" selected>SVG</option>
                            <option value="png">PNG</option>
                            <option value="markdown">Markdown</option>
                        </select>
                    </div>
                    <div class="save-option">
                        <label for="fileNameInput">文件名:</label>
                        <input type="text" id="fileNameInput" value="mindmap" placeholder="输入文件名">
                    </div>
                </div>
                <div class="save-dialog-footer">
                    <button id="cancelExport" class="cancel-button">取消</button>
                    <button id="confirmExport" class="confirm-button">导出</button>
                </div>
            </div>
        </div>

        <!-- 主区域 -->
        <div class="main-area">
            <!-- SVG画布区域 -->
            <div class="canvas-container">
                <svg id="mindMapCanvas" width="100%" height="100%"></svg>
                <!-- 缩略图画布 -->
                <svg id="thumbnailCanvas" class="thumbnail-canvas"></svg>
            </div>
            
            <!-- 样式面板 -->
            <div class="style-panel">
                <div class="panel-controls">
                    <button id="saveMap" class="panel-button">保存</button>
                    <button id="loadMap" class="panel-button">加载</button>
                    <button id="exportMap" class="panel-button">导出</button>
                    <button id="autoLayout" class="panel-button">手动布局</button>
                    <div class="panel-control-group real-time-layout-container">
                        <label for="realTimeLayoutToggle">实时布局:</label>
                        <label class="switch">
                            <input type="checkbox" id="realTimeLayoutToggle" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                    <button id="centerNode" class="panel-button">中心节点</button>
                </div>
                <h3>样式设置</h3>
                <!-- 颜色设置组 - 两行两列布局 -->
                <div class="style-group">
                    <label for="nodeColor">节点颜色:</label>
                    <div class="color-palette" data-target="nodeColor">
                        <div class="color-swatches-container">
                            <span class="color-swatch" style="background-color: #ffffff"></span>
                            <span class="color-swatch" style="background-color: #f0f8ff"></span>
                            <span class="color-swatch" style="background-color: #faebd7"></span>
                            <span class="color-swatch" style="background-color: #7fffd4"></span>
                            <span class="color-swatch" style="background-color: #f0ffff"></span>
                            <span class="color-swatch" style="background-color: #f5f5dc"></span>
                            <span class="color-swatch" style="background-color: #ffe4c4"></span>
                            <span class="color-swatch" style="background-color: #ffebcd"></span>
                            <span class="color-swatch" style="background-color: #ff7f50"></span>
                            <span class="color-swatch" style="background-color: #ffff00"></span>
                            <span class="color-swatch" style="background-color: #90ee90"></span>
                            <span class="color-swatch" style="background-color: #add8e6"></span>
                        </div>
                        <input type="color" id="nodeColor" value="#ffffff" class="custom-color-picker">
                    </div>
                </div>
                <div class="style-group">
                    <label for="borderColor">边框颜色:</label>
                    <div class="color-palette" data-target="borderColor">
                        <div class="color-swatches-container">
                            <span class="color-swatch" style="background-color: #000000"></span>
                            <span class="color-swatch" style="background-color: #ffffff"></span>
                            <span class="color-swatch" style="background-color: #808080"></span>
                            <span class="color-swatch" style="background-color: #a9a9a9"></span>
                            <span class="color-swatch" style="background-color: #ff0000"></span>
                            <span class="color-swatch" style="background-color: #0000ff"></span>
                            <span class="color-swatch" style="background-color: #008000"></span>
                            <span class="color-swatch" style="background-color: #800080"></span>
                            <span class="color-swatch" style="background-color: #ff8c00"></span>
                            <span class="color-swatch" style="background-color: #ffd700"></span>
                            <span class="color-swatch" style="background-color: #4169e1"></span>
                            <span class="color-swatch" style="background-color: #32cd32"></span>
                        </div>
                        <input type="color" id="borderColor" value="#000000" class="custom-color-picker">
                    </div>
                </div>
                <div class="style-group">
                    <label for="fontColor">字体颜色:</label>
                    <div class="color-palette" data-target="fontColor">
                        <div class="color-swatches-container">
                            <span class="color-swatch" style="background-color: #000000"></span>
                            <span class="color-swatch" style="background-color: #333333"></span>
                            <span class="color-swatch" style="background-color: #666666"></span>
                            <span class="color-swatch" style="background-color: #999999"></span>
                            <span class="color-swatch" style="background-color: #ff0000"></span>
                            <span class="color-swatch" style="background-color: #0000ff"></span>
                            <span class="color-swatch" style="background-color: #008000"></span>
                            <span class="color-swatch" style="background-color: #800080"></span>
                            <span class="color-swatch" style="background-color: #ff8c00"></span>
                            <span class="color-swatch" style="background-color: #ff00ff"></span>
                            <span class="color-swatch" style="background-color: #4b0082"></span>
                            <span class="color-swatch" style="background-color: #8b4513"></span>
                        </div>
                        <input type="color" id="fontColor" value="#000000" class="custom-color-picker">
                    </div>
                </div>
                <div class="style-group">
                    <label for="connectionColor">连接线颜色:</label>
                    <div class="color-palette" data-target="connectionColor">
                        <div class="color-swatches-container">
                            <span class="color-swatch" style="background-color: #000000"></span>
                            <span class="color-swatch" style="background-color: #808080"></span>
                            <span class="color-swatch" style="background-color: #a9a9a9"></span>
                            <span class="color-swatch" style="background-color: #ff0000"></span>
                            <span class="color-swatch" style="background-color: #0000ff"></span>
                            <span class="color-swatch" style="background-color: #008000"></span>
                            <span class="color-swatch" style="background-color: #800080"></span>
                            <span class="color-swatch" style="background-color: #ff00ff"></span>
                            <span class="color-swatch" style="background-color: #ff8c00"></span>
                            <span class="color-swatch" style="background-color: #ffd700"></span>
                            <span class="color-swatch" style="background-color: #4169e1"></span>
                            <span class="color-swatch" style="background-color: #32cd32"></span>
                        </div>
                        <input type="color" id="connectionColor" value="#000000" class="custom-color-picker">
                    </div>
                </div>
                <!-- 节点形状选择器 -->
                <div class="style-group">
                    <label>节点形状:</label>
                    <div class="shape-picker">
                        <div class="shape-option" data-shape="track">
                            <svg width="60" height="30" viewBox="0 0 60 30">
                                <path d="M15 0 L45 0 A15 15 0 0 1 60 15 L60 15 A15 15 0 0 1 45 30 L15 30 A15 15 0 0 1 0 15 L0 15 A15 15 0 0 1 15 0 Z" fill="#ffffff" stroke="#000000" stroke-width="1"></path>
                            </svg>
                            <span>跑道形</span>
                        </div>
                        <div class="shape-option" data-shape="rounded-rect">
                            <svg width="60" height="30" viewBox="0 0 60 30">
                                <rect x="0" y="0" width="60" height="30" rx="8" ry="8" fill="#ffffff" stroke="#000000" stroke-width="1"></rect>
                            </svg>
                            <span>圆角矩形</span>
                        </div>
                    </div>
                </div>
                <!-- 字体设置组 - 跨两列布局 -->
                <div class="style-group" id="fontSettings">
                    <div class="font-size-group">
                        <label for="fontSize">字体大小:</label>
                        <input type="number" id="fontSize" value="14" min="8" max="36">
                    </div>
                    <div class="font-family-group">
                        <label for="fontFamily">字体:</label>
                        <select id="fontFamily">
                            <option value="Arial">Arial</option>
                            <option value="微软雅黑">微软雅黑</option>
                            <option value="宋体">宋体</option>
                            <option value="黑体">黑体</option>
                            <option value="Times New Roman">Times New Roman</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- 自定义颜色选择器 -->
    <div id="customColorPicker" class="custom-color-picker-panel">
        <!-- 颜色渐变区域 -->
        <div id="colorGradient" class="color-gradient">
            <div id="colorPicker" class="color-picker"></div>
            <div id="colorPickerDot" class="color-picker-dot"></div>
        </div>
        
        <!-- 彩虹色条 -->
        <div id="rainbowBar" class="rainbow-bar">
            <div id="rainbowPicker" class="rainbow-picker"></div>
            <div id="rainbowPickerDot" class="rainbow-picker-dot"></div>
        </div>
        
        <!-- RGB输入 -->
        <div class="rgb-inputs">
            <div class="rgb-input">
                <input type="number" id="rInput" min="0" max="255" value="255">
                <label>R</label>
            </div>
            <div class="rgb-input">
                <input type="number" id="gInput" min="0" max="255" value="255">
                <label>G</label>
            </div>
            <div class="rgb-input">
                <input type="number" id="bInput" min="0" max="255" value="255">
                <label>B</label>
            </div>
        </div>
        
        <!-- 颜色预览和关闭按钮 -->
        <div class="color-preview-area">
            <div id="colorPreview" class="color-preview-box"></div>
            <button id="closeColorPicker" class="close-button">&times;</button>
        </div>
    </div>
    
    <script src="script.js"></script>
</body>
</html>